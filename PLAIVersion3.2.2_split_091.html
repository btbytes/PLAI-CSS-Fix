<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.bd3i224rr6yk"><span class="c4">A Concise Notation</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">As we extend our type system, it is increasingly unwieldy to write everything out as code. Instead, we will adopt a notation commonly used in the world of types (though it can also be used for interpreters and other SImPl programs). We will write terms of the form</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">|- e : T</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">where the </span><span class="c28">e</span><span class="calibre3"> are expressions, </span><span class="c28">T</span><span class="calibre3"> are types, and </span><span class="c28">:</span><span class="calibre3"> is pronounced as “has type”: i.e., the notation above says “</span><span class="c28">e</span><span class="calibre3"> has type </span><span class="c28">T</span><span class="calibre3">”. For now we won’t pronounce </span><span class="c28">|-</span><span class="c4"> as anything at all; later, we will see that it should be read as “proves”.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">First, we can very concisely say that all numeric expressions have numeric type and all string expressions have string type:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">|- n : Num</span></p><p class="c5"><span class="c41">|- s : Str</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">where </span><span class="c28">n</span><span class="calibre3"> stands for all the syntactic terms with the syntax of numbers, and </span><span class="c28">s</span><span class="c4"> likewise for strings. (We can think of this as an infinite number of rules, one for each number and each string. We’re in the realm of mathematics, so what’s an infinite number of rules between friends?) The former is exactly equivalent to writing</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">    [(numC n) (numT)]</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">but much more concisely.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">When we get to Booleans, we have a choice: we can either write</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c28">|- b : Bool</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">where </span><span class="c28">b</span><span class="c4"> stands for all the syntactic terms with the syntax of Booleans, or—because there are only two of them—just enumerate them explicitly:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">|- true : Bool</span></p><p class="c5"><span class="c41">|- false : Bool</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">Okay, so these correspond to the base cases of the type-checker. These are called </span><span class="c7">axioms</span><span class="calibre3">. Now let’s get to the </span><span class="c7">conditional</span><span class="calibre3"> cases, which are called </span><span class="c7">(typing) rules</span><span class="c4">. Remember our code for typing addition:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">       [(plus) (if (and (numT? (tc l)) (numT? (tc r)))</span></p><p class="c5"><span class="c41">                   (numT)</span></p><p class="c5"><span class="c41">                   (error 'tc "not both numbers"))]</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">We can write it in this notation very concisely as follows:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">|- e1 : Num    |- e2 : Num</span></p><p class="c5"><span class="c41">--------------------------</span></p><p class="c5"><span class="c41">|- (+ e1 e2) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">We read the line as “if (what’s above) then (what’s below)”, and the space as “and”. So this says: “if </span><span class="c28">e1</span><span class="calibre3"> has type </span><span class="c28">Num</span><span class="calibre3"> and </span><span class="c28">e2</span><span class="calibre3"> has type </span><span class="c28">Num</span><span class="calibre3">, then </span><span class="c28">(+ e1 e2)</span><span class="calibre3"> has type </span><span class="c28">Num</span><span class="c4">”. This is of course the exact same thing the code says, but with rather less noise.</span></p><p class="c3"><span class="c4"></span></p><p class="c31"><span class="c40">Terminology:</span><span class="calibre3"> The part above is called the </span><span class="c7">antecedent</span><span class="calibre3"> (that which goes before) and the part below is called the </span><span class="c7">consequent</span><span class="c4"> (that which comes after). Don’t call these the numerator and denominator!</span></p><p class="c3"><span class="c4"></span></p><p class="c3"><span class="c4"></span></p></body></html>
