<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.i9owwcfqedn3"><span class="c4">From Axioms and Rules to Judgments</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">When we need to apply type rules to a program, we compose them recursively, just as the type-checker runs. Consider this program:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(+ 5 (+ 6 7))</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">To decide its type, we will use our current rules [</span><span class="c16"><a class="c11" href="PLAIVersion3.2.2_split_091.html#h.bd3i224rr6yk">ðŸ‘‰</a></span><span class="calibre3">]. Observe that it does not fit any axiom, because the program does not match the syntax of a single number or string. Therefore, we have to use a conditional rule. We have seen only one so far, and fortunately this term does match the consequent: it requires two terms, and we have two terms, so </span><span class="c28">e1</span><span class="calibre3">Â is </span><span class="c28">5</span><span class="calibre3">Â and </span><span class="c28">e2</span><span class="calibre3">Â is </span><span class="c28">(+ 6 7)</span><span class="c4">. Therefore, applying this conditional rule, we get:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">|- 5 : Num Â  Â |- (+ 6 7) : Num</span></p><p class="c5"><span class="c41">----------------------</span></p><p class="c5"><span class="c41">|- (+ 5 (+ 6 7)) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">So far, so good. Now letâ€™s look at the two terms in the antecedent. The first one now actually matches to an axiom; therefore, weâ€™ll mark that in green and can stop with that:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c90">|- 5 : Num</span><span class="c41">Â  Â  |- (+ 6 7) : Num</span></p><p class="c5"><span class="c41">----------------------</span></p><p class="c5"><span class="c41">|- (+ 5 (+ 6 7)) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Â For the other, we have to apply the same conditional rule again:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">Â  Â  Â  Â  Â  Â  Â  |- 6 : Num Â  Â |- 7 : Num</span></p><p class="c5"><span class="c41">Â  Â  Â  Â  Â  Â  Â  ------------------------</span></p><p class="c5"><span class="c90">|- 5 : Num</span><span class="c41">Â  Â  |- (+ 6 7) : Num</span></p><p class="c5"><span class="c41">----------------------</span></p><p class="c5"><span class="c41">|- (+ 5 (+ 6 7)) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">These new terms also match the axiom for numbers, so we can mark them also in green:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c28">Â  Â  Â  Â  Â  Â  Â  </span><span class="c90">|- 6 : Num</span><span class="c28">Â  Â  </span><span class="c91">|- 7 : Num</span></p><p class="c5"><span class="c41">Â  Â  Â  Â  Â  Â  Â  ------------------------</span></p><p class="c5"><span class="c90">|- 5 : Num</span><span class="c41">Â  Â  |- (+ 6 7) : Num</span></p><p class="c5"><span class="c41">----------------------</span></p><p class="c5"><span class="c41">|- (+ 5 (+ 6 7)) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">Every part of the tree now terminates in an axiom. We therefore consider this program to have successfully type-checked. This tree is called a </span><span class="c7">judgment</span><span class="calibre3">, because it passes judgment on the initial term: in this case, judging it to have type-checked and to produce a value of type </span><span class="c28">Num</span><span class="c4">.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Observe closely that this is the same pattern of execution we had with the type-checker! The difference is that we were able to skip the tedious details of passing and returning things, and instead simply used pattern-matching. This will save us a fair bit of work as we go forward.</span></p></body></html>
