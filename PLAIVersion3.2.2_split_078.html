<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.547ckr5uiev8"><span class="c4">A Re-Refined “Class” Pattern</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Now we can refine our pattern for classes even further:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(define class-w/-private&amp;static</span></p><p class="c5"><span class="c41">  (let ([static-vars …] …)</span></p><p class="c5"><span class="c41">    (lambda (constructor-params)</span></p><p class="c5"><span class="c41">      (let ([private-vars …] …)</span></p><p class="c5"><span class="c41">        … the object pattern …))))</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Put differently:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(define class-w/-private&amp;static</span></p><p class="c5"><span class="c41">  (let ([static-vars …] …)</span></p><p class="c5"><span class="c41">    … the class-w/-private pattern …))</span></p><p class="c3"><span class="c4"></span></p><p class="c31"><span class="c40">Exercise: </span><span class="calibre3">Statics, as defined here, are accessed through </span><span class="c7">objects</span><span class="calibre3">. However, statics by definition belong to a </span><span class="c7">class</span><span class="calibre3">, not to objects, and hence should be accessible through the class itself—for instance, even if no instances of the class have ever been created. (In the working example above, one should be able to access the count when it is still </span><span class="c28">0</span><span class="calibre3">.) Modify the pattern above to respect this by making static members be accessible directly through the </span><span class="c7">class</span><span class="c4"> rather than through objects.</span></p></body></html>
