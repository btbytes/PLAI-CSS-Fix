<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.t2g8ynrf9fu3"><span class="c4">Judgments and Errors</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Let’s see another example, which will illustrate an important principle:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(+ 5 (+ 6 "hi"))</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">This proceeds analogously to the previous example. This leaves us with the following attempted judgment:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c28">              </span><span class="c90">|- 6 : Num</span><span class="c41">    |- "hi" : Num</span></p><p class="c5"><span class="c41">              ---------------------------</span></p><p class="c5"><span class="c90">|- 5 : Num</span><span class="c41">    |- (+ 6 "hi") : Num</span></p><p class="c5"><span class="c41">-------------------------</span></p><p class="c5"><span class="c41">|- (+ 5 (+ 6 "hi")) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">But now we have a problem: we need to type-check</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c28">|- "hi" : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">but </span><span class="c7">we don’t have a rule that matches</span><span class="calibre3">. Therefore, we </span><span class="c7">cannot</span><span class="c4"> construct a successful tree:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c28">              </span><span class="c90">|- 6 : Num</span><span class="c28">    </span><span class="c92">|- "hi" : Num</span></p><p class="c5"><span class="c41">              ---------------------------</span></p><p class="c5"><span class="c90">|- 5 : Num</span><span class="c41">    |- (+ 6 "hi") : </span></p><p class="c5"><span class="c41">-------------------------</span></p><p class="c5"><span class="c28">|- (+ 5 (+ 6 "hi")) : </span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Remember the “if … and … then” interpretation. Because we cannot satisfy all the antecedents, we cannot prove anything about the consequents, leaving the tree incomplete.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c7">A type error is simply a failure to construct a judgment.</span><span class="c4"> It may not be the most satisfying user feedback, but our concern here is with a concise way of expressing ideas; going from this to an implementation is not too hard, and the user interface details can be added to the latter.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">This requires some clarification. We only call it a judgment if the tree is “checked off” completely: i.e., every antecedent is generated using given rules, and all the leaves are actual axioms. In this example, we are unable to check off the tree: there is no available rule </span><span class="c7">or</span><span class="calibre3"> axiom that lets us conclude that </span><span class="c28">"hi"</span><span class="calibre3"> is a </span><span class="c28">Num</span><span class="calibre3">. Therefore, we cannot “judge” the initial expression. This is a technical meaning of the word </span><span class="c7">judgment</span><span class="c4">, not to be confused with potentially colloquial interpretations of the term.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Similarly, imagine that we started with this program:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(+ 5 (- 6 7))</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">We would get this far:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c90">|- 5 : Num</span><span class="c28">    </span><span class="c92">|- (- 6 7) : Num</span></p><p class="c5"><span class="c41">----------------------</span></p><p class="c5"><span class="c41">|- (+ 5 (- 6 7)) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">Again we would fail, this time because we haven’t provided a (conditional) rule for </span><span class="c28">(- e1 e2)</span><span class="c4">. Obviously it’s not difficult to define one; we just haven’t done so yet, so our pattern-matcher would fail.</span></p><p class="c3"><span class="c4"></span></p><p class="c31"><span class="c40">Exercise:</span><span class="calibre3"> Construct the conditional rule for </span><span class="c28">++</span><span class="c4"> (string concatenation). Compare it to the code in the type-checker.</span></p></body></html>
