<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.kt5kvrtrdq0p"><span class="c4">Stepping Back</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Putting it all together, we get the following interpreter:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(interp : (Exp Env -&gt; Value))</span></p><p class="c3"><span class="c41"></span></p><p class="c5"><span class="c41">(define (interp e nv)</span></p><p class="c5"><span class="c41">  (type-case Exp e</span></p><p class="c5"><span class="c41">    [(numE n) (numV n)]</span></p><p class="c5"><span class="c41">    [(varE s) (lookup s nv)]</span></p><p class="c5"><span class="c41">    [(plusE l r) (add (interp l nv) (interp r nv))]</span></p><p class="c5"><span class="c41">    [(lamE v b) (funV v b)]</span></p><p class="c5"><span class="c41">    [(appE f a) (let ([fv (interp f nv)]</span></p><p class="c5"><span class="c41">                      [av (interp a nv)])</span></p><p class="c5"><span class="c41">                  (type-case Value fv</span></p><p class="c5"><span class="c41">                    [(funV v b)</span></p><p class="c5"><span class="c41">                     (interp b (extend nv v av))]</span></p><p class="c5"><span class="c41">                    [else (error 'app "didn't get a function")]))]</span></p><p class="c5"><span class="c41">    [(let1E var val body)</span></p><p class="c5"><span class="c41">     (let ([new-env (extend nv</span></p><p class="c5"><span class="c41">                            var</span></p><p class="c5"><span class="c41">                            (interp val nv))])</span></p><p class="c5"><span class="c41">       (interp body new-env))]))</span></p><p class="c3"><span class="c4"></span></p><p class="c31"><span class="c40">Exercise:</span><span class="c4"> We wrote down a particular ordering above, which we put into practice in the code. But is that the same ordering that actual languages use? In particular, are non-function errors reported after or before evaluating the argument? Experiment and find out!</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">Since we’ve taken several steps to get here, it’s easy to lose sight of what we’ve just done. In just 20 lines of code (with a few helper functions), we have described the implementation of a </span><span class="c7">full programming language</span><span class="calibre3">. Not only that, a language that can express </span><span class="c26"><a class="c11" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Church%25E2%2580%2593Turing_thesis&amp;sa=D&amp;source=editors&amp;ust=1695232021212601&amp;usg=AOvVaw1o9iRZ1zIR7qNKrD6lFhCa">all computations</a></span><span class="calibre3">. When Turing Award winner </span><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Alan_Kay&amp;sa=D&amp;source=editors&amp;ust=1695232021213036&amp;usg=AOvVaw1mQ9COqfNQ40uhDQa8ed0D">Alan Kay</a></span><span class="calibre3"> first saw the equivalent program, </span><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://queue.acm.org/detail.cfm?id%3D1039523&amp;sa=D&amp;source=editors&amp;ust=1695232021213294&amp;usg=AOvVaw2Jqf_V8SktzbJT9CEIRj32">he says</a></span><span class="c4">,</span></p><p class="c3"><span class="c4"></span></p><p class="c31"><span class="c4">Yes, that was the big revelation to me when I was in graduate school—when I finally understood that the half page of code on the bottom of page 13 of the Lisp 1.5 manual was Lisp in itself. These were “Maxwell’s Equations of Software!” This is the whole world of programming in a few lines that I can put my hand over.</span></p><p class="c51"><span class="c4"></span></p><p class="c31"><span class="c4">I realized that anytime I want to know what I’m doing, I can just write down the kernel of this thing in a half page and it’s not going to lose any power. In fact, it’s going to gain power by being able to reenter itself much more readily than most systems done the other way can possibly do.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">We’ve just rediscovered this same beautiful, powerful idea! If you want to see the original, here’s </span><span class="c16"><a class="c11" href="https://www.google.com/url?q=https://www.softwarepreservation.org/projects/LISP/book/LISP%25201.5%2520Programmers%2520Manual.pdf&amp;sa=D&amp;source=editors&amp;ust=1695232021214133&amp;usg=AOvVaw2NEGhAo0Lj5kqCqv5LySNb">that manual</a></span><span class="c4"> (by McCarthy, Abrahams, Edwards, Hart, Levin). Here it is, copied:</span></p><p class="c3"><span class="c4"></span></p><p class="c8"><span class="calibre21"><img alt="" src="image3.png" title="" class="calibre22"/></span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Alright, so we now have a working interpreter for a full-fledged language. But before we can feel sure of that, we should try a few more examples to confirm that we’re happy with what we have.</span></p></body></html>
