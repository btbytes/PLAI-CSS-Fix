<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.f2auvndzp4jo"><span class="c4">Imagining a Solution</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Until now, our type checker has required us to annotate the parameter of every function. But let’s imagine someone handed us a piece of code without annotations; can we figure out the type anyway? For instance, consider:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(+ 1 2)</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">We clearly know the type of this; even our type-checker can calculate it for us without any annotations. But of course that’s not surprising: there are no variables to annotate. So now consider this expression:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(lambda (x : ___) (+ x 1))</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">With a moment’s inspection, we can tell that the function has type </span><span class="c28">(Num -&gt; Num)</span><span class="calibre3">. But our type-checker couldn’t have calculated that, because it would have tripped on the empty annotation. So how can </span><span class="c7">we</span><span class="c4"> figure it out?</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">Well, let’s see. First we have to figure out the type of </span><span class="c28">x</span><span class="calibre3">. To determine its type, we should look for </span><span class="c7">uses</span><span class="calibre3"> of </span><span class="c28">x</span><span class="c4">. There is only one, and it’s used in an addition. But the rule for addition</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c97">Γ </span><span class="c28">|- e1 : Num    </span><span class="c97">Γ </span><span class="c41">|- e2 : Num</span></p><p class="c5"><span class="c41">------------------------------</span></p><p class="c5"><span class="c97">Γ </span><span class="c28">|- (+ e1 e2) : Num</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">tells us that the term in that position must have type </span><span class="c28">Num</span><span class="calibre3">. There is no additional information we have about </span><span class="c28">x</span><span class="calibre3"> (this remark will become clearer in a moment). Therefore, we can determine that its type must be </span><span class="c28">Num</span><span class="calibre3">. Furthermore, we know that the result of an addition is also a </span><span class="c28">Num</span><span class="calibre3">. From that, we can conclude that the function has type </span><span class="c28">(Num -&gt; Num)</span><span class="c4">.</span></p></body></html>
