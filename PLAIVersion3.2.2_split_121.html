<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.72j0j01cvgav"><span class="c4">Generated Bindings</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">Now the question is, how do we type code that uses such a definition? First, let’s take an inventory of all the definitions that this might create. It at least creates two </span><span class="c7">constructors</span><span class="c4">:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(mt : ( -&gt; BT))</span></p><p class="c5"><span class="c41">(node : (Number BT BT -&gt; BT))</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">We have been starting our interpretation and type-checking with the empty environment, but there is no reason we need to, nor do we do so in practice: the primordial environment can contain all kinds of pre-defined values and their types. Thus, we can imagine the </span><span class="c28">define-type</span><span class="calibre3"> above adding the above two definitions to the initial type environment, enabling uses of </span><span class="c28">mt</span><span class="calibre3"> and </span><span class="c28">node</span><span class="c4"> to be type-checked.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">This much is standard across various languages. But less commonly, in plait you get two more families of functions: </span><span class="c7">predicates</span><span class="c4"> for distinguishing between the variants:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(mt? : (BT -&gt; Boolean))</span></p><p class="c5"><span class="c41">(node? : (BT -&gt; Boolean))</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">and </span><span class="c7">accessors</span><span class="c4"> for getting the values out of fields:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">(node-v : (BT -&gt; Number))</span></p><p class="c5"><span class="c41">(node-l : (BT -&gt; BT))</span></p><p class="c5"><span class="c28">(node-r : (BT -&gt; BT))</span></p></body></html>
