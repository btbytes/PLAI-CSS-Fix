<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Unknown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="page_styles.css"/>
</head>
  <body class="c">
<h2 class="c27" id="h.63hbomho6j8r"><span class="c4">Typing Function Definitions</span></h2><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">Now we’re ready to type </span><span class="c28">lambda</span><span class="calibre3">. Here, we have to be careful about how many sub-expressions there are. Given </span><span class="c28">(lambda V B)</span><span class="calibre3">, it is tempting to think that there are two: </span><span class="c28">V</span><span class="calibre3"> (the formal parameter) and </span><span class="c28">B</span><span class="calibre3"> (the body). This is wrong! The formal parameter is a literal name, </span><span class="c7">not</span><span class="calibre3"> an expression: we can’t replace that name with some larger expression, which is what it would mean for it to be an expression. Furthermore, we can’t evaluate it: it would (most likely) produce an unbound variable error, because its whole job is to </span><span class="c7">bind</span><span class="calibre3"> that variable, so it can’t assume it has already been bound. Therefore, there is only </span><span class="c7">one</span><span class="c4"> sub-expression, the body.</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">Therefore, we expect to end up with a conditional rule that looks like this:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">|- B : ???</span></p><p class="c5"><span class="c41">---------------------</span></p><p class="c5"><span class="c28">|- (lambda V B) : ???</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="calibre3">If we think about this for a moment, we can see that there’s going to be a problem.  We just said that the </span><span class="c28">lambda</span><span class="calibre3"> introduces a binding for the variable in the </span><span class="c28">V</span><span class="calibre3"> position. This is precisely so that the body, </span><span class="c28">B</span><span class="c4">, can make use of that variable. So let’s imagine the simplest function:</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c41">|- x : ???</span></p><p class="c5"><span class="c41">---------------------</span></p><p class="c5"><span class="c28">|- (lambda x x) : ???</span></p><p class="c3"><span class="c4"></span></p><p class="c5"><span class="c4">But we don’t have any typing rule that covers variables! Furthermore, we have no way of knowing what the type of any old variable will be. So we have a problem.</span></p></body></html>
